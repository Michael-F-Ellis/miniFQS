<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>miniFQS Tutorial for Choral Singers</title>
	<link rel="stylesheet" href="css/styles.css">
	<!-- abcjs audio controls CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/abcjs@6.5.2/abcjs-audio.css">
	<script>
		// Set a global flag to indicate abcjs is being loaded
		window.abcjsLoading = true;
	</script>
	<script src="lib/abcjs-basic-min.js"
		onload="window.abcjsLoadedFlag = true; window.dispatchEvent(new Event('abcjsLoaded'))"
		onerror="window.dispatchEvent(new CustomEvent('abcjsError', {detail: 'Failed to load abcjs library from local file'}))">
		</script>
	<!-- Fallback to CDN if local loading fails -->
	<script>
		// If local script fails, try loading from CDN after a delay
		window.addEventListener('abcjsError', function () {
			console.log('Local abcjs loading failed, trying CDN...');
			var script = document.createElement('script');
			script.src = 'https://cdn.jsdelivr.net/npm/abcjs@6.5.2/dist/abcjs-basic-min.js';
			script.onload = function () {
				console.log('abcjs loaded from CDN');
				window.abcjsLoadedFlag = true;
				window.dispatchEvent(new Event('abcjsLoaded'));
			};
			script.onerror = function () {
				console.error('Failed to load abcjs from CDN');
				window.dispatchEvent(new CustomEvent('abcjsError', { detail: 'Failed to load abcjs from both local and CDN' }));
			};
			document.head.appendChild(script);
		}, { once: true });
	</script>
	<script type="module" src="../mini-fqs.js"></script>
	<!-- Load Browser Pipeline for ABC conversion -->
	<script type="module" src="../browser-pipeline-final.js"></script>
</head>

<body>
	<header>
		<h1>miniFQS Tutorial</h1>
		<p class="subtitle">A guide for singers transcribing parts for study and performance</p>
	</header>

	<nav>
		<ul>
			<li><a href="#introduction">Introduction</a></li>
			<li><a href="#basic-structure">Basic Structure</a></li>
			<li><a href="#simple-rhythms">Simple Rhythms</a></li>
			<li><a href="#dotted-rhythms">Dotted Rhythms</a></li>
			<li><a href="#tuplets">Tuplets</a></li>
			<li><a href="#partial-measures">Partial Measures</a></li>
			<li><a href="#pitch-notation">Pitch Notation</a></li>
			<li><a href="#advanced-features">Advanced Features</a></li>
		</ul>
	</nav>

	<main>
		<section id="introduction">
			<h2>Introduction</h2>
			<p>Welcome to the miniFQS tutorial! This guide is designed for experienced choral singers who want to
				transcribe their vocal parts using a simple text-based notation system.</p>

			<div class="learning-objectives">
				<h3>What You'll Learn:</h3>
				<ul>
					<li>How to write musical scores in FQS syntax</li>
					<li>Translating standard notation to FQS format</li>
					<li>Understanding rhythm, pitch, and key signatures</li>
					<li>Creating PDFs for annotation in apps like forScore or MobileSheets</li>
				</ul>
			</div>
		</section>

		<section id="basic-structure">
			<h2>Basic Structure</h2>
			<p>Every FQS score has a simple structure: title, lyric lines, and pitch lines.</p>

			<div class="examples-container" data-section="basic-structure"></div>
		</section>

		<section id="simple-rhythms">
			<h2>Simple Rhythms</h2>
			<p>Basic rhythmic patterns using quarter notes, half notes, and eighth notes.</p>

			<div class="examples-container" data-section="simple-rhythms"></div>
		</section>

		<section id="dotted-rhythms">
			<h2>Dotted Rhythms</h2>
			<p>Working with dotted notes and their durations.</p>
			<div class="example-placeholder">
				<p>Examples of dotted rhythms will be added here.</p>
			</div>
		</section>

		<section id="tuplets">
			<h2>Tuplets</h2>
			<p>Notating triplets, duplets, and other subdivisions.</p>
			<div class="example-placeholder">
				<p>Examples of tuplets will be added here.</p>
			</div>
		</section>

		<section id="partial-measures">
			<h2>Partial Measures</h2>
			<p>Using counter lines for pickups and incomplete measures.</p>
			<div class="example-placeholder">
				<p>Examples of partial measures will be added here.</p>
			</div>
		</section>

		<section id="pitch-notation">
			<h2>Pitch Notation</h2>
			<p>Key signatures, accidentals, and the coloring system.</p>
			<div class="example-placeholder">
				<p>Examples of pitch notation will be added here.</p>
			</div>
		</section>

		<section id="advanced-features">
			<h2>Advanced Features</h2>
			<p>Complex rhythms, mid-measure key changes, and special notations.</p>
			<div class="example-placeholder">
				<p>Advanced examples will be added here.</p>
			</div>
		</section>
	</main>

	<footer>
		<p>miniFQS Tutorial &copy; 2025</p>
	</footer>

	<script type="module" src="js/tutorial.js"></script>
</body>

</html>